{"ast":null,"code":"//import axios\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      items: []\n    };\n  },\n\n  created() {\n    this.getProducts();\n  },\n\n  methods: {\n    //get all products\n    async getProducts() {\n      try {\n        const response = await axios.get(\"http://localhost:5000/products\");\n        this.items = response.data;\n        console.log(this.items);\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    //delete product\n    async deleteProduct(id) {\n      try {\n        await axios.delete(`http://localhost:5000/products/${id}`);\n        this.getProducts();\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsCA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE;IADF,CAAP;EAGD,CALY;;EAMbC,OAAO,GAAG;IACR,KAAKC,WAAL;EACD,CARY;;EASbC,OAAO,EAAE;IACP;IACA,MAAMD,WAAN,GAAoB;MAClB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMN,KAAK,CAACO,GAAN,CAAU,gCAAV,CAAvB;QACA,KAAKL,KAAL,GAAaI,QAAQ,CAACL,IAAtB;QACAO,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;MACF,CAJA,CAIE,OAAOQ,GAAP,EAAY;QACZF,OAAO,CAACC,GAAR,CAAYC,GAAZ;MACF;IACD,CAVM;;IAWP;IACA,MAAMC,aAAN,CAAoBC,EAApB,EAAwB;MACtB,IAAI;QACF,MAAMZ,KAAK,CAACa,MAAN,CAAc,kCAAiCD,EAAG,EAAlD,CAAN;QACA,KAAKR,WAAL;MACF,CAHA,CAGE,OAAOM,GAAP,EAAY;QACZF,OAAO,CAACC,GAAR,CAAYC,GAAZ;MACF;IACD;;EAnBM;AATI,CAAf","names":["axios","data","items","created","getProducts","methods","response","get","console","log","err","deleteProduct","id","delete"],"sourceRoot":"","sources":["C:\\Users\\chleg\\OneDrive\\Bureau\\MVC_Node-MySQL-Vue\\frontend\\src\\components\\ProductList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <router-link :to=\"{ name: 'Create' }\" class=\"button is-success mt-5\"\r\n      >Add New</router-link\r\n    >\r\n    <table class=\"table is-striped is-bordered mt-2 is-fullwidth\">\r\n      <thead>\r\n        <tr>\r\n          <th>Product Name</th>\r\n          <th>Price</th>\r\n          <th class=\"has-text-centered\">Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in items\" :key=\"item.product_id\">\r\n          <td>\r\n            {{ item.product_name }}\r\n          </td>\r\n          <td>{{ item.product_price }}</td>\r\n          <td class=\"has-text-centered\">\r\n            <router-link\r\n              :to=\"{ name: 'Edit', params: { id: item.product_id } }\"\r\n              class=\"button is-info is-small\"\r\n              >Edit</router-link\r\n            >\r\n            <a\r\n              class=\"button is-danger is-small\"\r\n              @click=\"deleteProduct(item.product_id)\"\r\n              >Delete</a\r\n            >\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//import axios\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      items: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n  },\r\n  methods: {\r\n    //get all products\r\n    async getProducts() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/products\");\r\n        this.items = response.data;\r\n        console.log(this.items);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    //delete product\r\n    async deleteProduct(id) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/products/${id}`);\r\n        this.getProducts();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>"]},"metadata":{},"sourceType":"module"}